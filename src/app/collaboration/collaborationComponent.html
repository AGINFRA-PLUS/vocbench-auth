<div class="panel panel-default vbox">
    <div class="panel-heading" style="display: flex;">
        <label style="flex: 1">Collaboration System</label>
        <!-- This should be allowed only to project manager and admin -->
        <button class="btn btn-default btn-xs" (click)="openConfig()">
            <span class="glyphicon glyphicon-cog"></span>
        </button>
    </div>
    
    <div class="panel-body vbox">

        <!-- Mandatory settings not configured (missing serverURL) -->
        <div *ngIf="!settingsConfigured; else elseBlock1" class="alert alert-warning" style="margin: 3px;">
            No Collaboration System has been configured. Please, configure a CS pushing the 
            <span class="glyphicon glyphicon-cog"></span> button in the top right corner.
        </div>
        <ng-template #elseBlock1>
            <!-- Mandatory settings configured, Mandatory preferences not configured (missing credentials) -->
            <div *ngIf="!preferencesConfigured; else elseBlock2" class="alert alert-warning" style="margin: 3px;">
                You need to be logged to the CS in order to see the issues list. Please, provide your credential pushing the
                <span class="glyphicon glyphicon-cog"></span> button in the top right corner.
            </div>

            <ng-template #elseBlock2>
                <!-- Mandatory settings and preferences configured, but no project is linked (optional settings) -->
                <div *ngIf="!csProjectLinked" class="alert alert-warning" style="margin: 3px;">
                    There is no CS project assigned to this Vocbench project.
                    <a style="cursor: pointer" (click)="assignProject()">Create or assign</a> a project.
                </div>
            </ng-template>

        </ng-template>


        

        <!-- Here issues list -->

        <table *ngIf="issues" class="table table-condensed table-borderless table-hoverable">
            <thead>
                <tr>
                    <th class="text-center">Id</th>
                    <th class="text-center">key</th>
                    <th class="text-center">Status</th>
                    <th class="text-center">URL</th>
                    <th class="text-center">labels</th>
                    <th class="text-center">resolution</th>
                    <th class="text-center">category</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let i of issues">
                    <td colspan="7">{{ i | json }}</td>
                    <!-- <td class="text-center">{{p.key}}</td>
                    <td class="text-center">{{p.id}}</td>
                    <td class="text-center">{{p.name}}</td> -->
                </tr>
            </tbody>
        </table>

    </div>
    
</div>